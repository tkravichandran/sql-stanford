(window.webpackJsonp=window.webpackJsonp||[]).push([[133],{2238:function(e,t,n){"use strict";n.r(t);var r,i,o,a,u=n(1765),s=1e3,c=60*s,f=60*c;function d(e,t,n){var r,i=!n||void 0===n.leading||n.leading,o=!n||void 0===n.trailing||n.trailing,a=!1,u=!1;return{throttled:function(){var n=this;a?u=!0:(i?e.apply(this):u=!0,a=!0,r=window.setTimeout(function(){o&&u&&e.apply(n),a=!1,u=!1},t))},cancel:function(){window.clearTimeout(r),a=!1,u=!1}}}function l(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):(1e7+"-1000-4000-8000-100000000000").replace(/[018]/g,l)}function p(e){return 0!==e&&100*Math.random()<=e}function E(e){return"number"!=typeof e?e:+(1e6*e).toFixed(0)}function m(){}function v(e,t,n){if(null==e)return JSON.stringify(e);var r=[!1,void 0];T(e)&&(r=[!0,e.toJSON],delete e.toJSON);var i,o,a=[!1,void 0];"object"==typeof e&&T(i=Object.getPrototypeOf(e))&&(a=[!0,i.toJSON],delete i.toJSON);try{o=JSON.stringify(e,void 0,n)}catch(e){o="<error: unable to serialize object>"}finally{r[0]&&(e.toJSON=r[1]),a[0]&&(i.toJSON=a[1])}return o}function T(e){return"object"==typeof e&&null!==e&&e.hasOwnProperty("toJSON")}function h(e,t){return-1!==e.indexOf(t)}function g(e){return b(e)&&e>=0&&e<=100}function b(e){return"number"==typeof e}function y(e){return Math.floor(C()+e)}function C(){return void 0===a&&(a=performance.timing.navigationStart),a}function O(e){return Object.keys(e).map(function(t){return[t,e[t]]})}function R(e){if(e.origin)return e.origin;var t=e.host.replace(/(:80|:443)$/,"");return e.protocol+"//"+t}function _(e,t){var n=e.match("(?:^|;)\\s*"+t+"\\s*=\\s*([^;]+)");return n?n[1]:void 0}!function(e){e.BEFORE_UNLOAD="beforeunload",e.CLICK="click",e.KEY_DOWN="keydown",e.LOAD="load",e.POP_STATE="popstate",e.SCROLL="scroll",e.TOUCH_START="touchstart",e.VISIBILITY_CHANGE="visibilitychange",e.DOM_CONTENT_LOADED="DOMContentLoaded"}(r||(r={})),function(e){e.DOCUMENT="document",e.XHR="xhr",e.BEACON="beacon",e.FETCH="fetch",e.CSS="css",e.JS="js",e.IMAGE="image",e.FONT="font",e.MEDIA="media",e.OTHER="other"}(i||(i={})),function(e){e.FETCH="fetch",e.XHR="xhr"}(o||(o={}));var S,w,A=s;function I(e,t,n,r){var i=new Date;i.setTime(i.getTime()+n);var o="expires="+i.toUTCString(),a=r&&r.crossSite?"none":"strict",u=r&&r.domain?";domain="+r.domain:"",s=r&&r.secure?";secure":"";document.cookie=e+"="+t+";"+o+";path=/;samesite="+a+u+s}function L(e){return _(document.cookie,e)}function N(e){return x(e,R(window.location)).href}function D(e,t){return U(e)===U(t)}function U(e){return R(x(e))}function M(e){var t=x(e).pathname;return"/"===t[0]?t:"/"+t}function x(e,t){if(function(){if(void 0!==w)return w;try{var e=new URL("http://test/path");return w="http://test/path"===e.href}catch(e){w=!1}return w}())return void 0!==t?new URL(e,t):new URL(e);if(void 0===t&&!/:/.test(e))throw new Error("Invalid URL: '"+e+"'");var n=document,r=n.createElement("a");if(void 0!==t){var i=(n=document.implementation.createHTMLDocument("")).createElement("base");i.href=t,n.head.appendChild(i),n.body.appendChild(r)}return r.href=e,r}var k={allowedTracingOrigins:[],maxErrorsByMinute:3e3,maxInternalMonitoringMessagesPerPage:15,resourceSampleRate:100,sampleRate:100,silentMultipleInit:!1,trackInteractions:!1,requestErrorResponseLengthLimit:32768,flushTimeout:30*s,maxBatchSize:50,maxMessageSize:262144,batchBytesLimit:16384};function V(e){var t={};return t.secure=function(e){return!!e.useSecureSessionCookie||!!e.useCrossSiteSessionCookie}(e),t.crossSite=!!e.useCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=function(){if(void 0===S){for(var e="dd_site_test_"+l(),t=window.location.hostname.split("."),n=t.pop();t.length&&!L(e);)n=t.pop()+"."+n,I(e,"test",s,{domain:n});S=n}return S}()),t}function B(e,t,n){var r="sdk_version:"+t.sdkVersion+(t.env?",env:"+t.env:"")+(t.service?",service:"+t.service:"")+(t.version?",version:"+t.version:""),i=e+"-http-intake.logs."+t.site,o=t.proxyHost?t.proxyHost:i,a=t.proxyHost?"ddhost="+i+"&":"",u=""+(t.applicationId?"_dd.application_id="+t.applicationId+"&":"")+a+"ddsource="+(n||"browser")+"&ddtags="+r;return"https://"+o+"/v1/input/"+t.clientToken+"?"+u}function j(e,t){return-1!==M(e).indexOf("/v1/input/")&&(D(e,t.logsEndpoint)||D(e,t.rumEndpoint)||D(e,t.traceEndpoint)||!!t.internalMonitoringEndpoint&&D(e,t.internalMonitoringEndpoint)||!!t.replica&&(D(e,t.replica.logsEndpoint)||D(e,t.replica.rumEndpoint)||D(e,t.replica.internalMonitoringEndpoint)))}function W(e){var t={};return Object.keys(e).forEach(function(n){var r;t[(r=n,r.replace(/[A-Z]/g,function(e,t){return(0!==t?"_":"")+e.toLowerCase()}).replace(/-/g,"_"))]=function e(t){if(Array.isArray(t))return t.map(function(t){return e(t)});if("object"==typeof t&&null!==t)return W(t);return t}(e[n])}),t}var H,P=function(e){return Array.isArray(e)},F=function(e){return!Array.isArray(e)&&"object"==typeof e&&null!==e};function q(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];null!=o&&(e=K(e,o,z()))}return e}function G(e){return K(void 0,e,z())}function z(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}function K(e,t,n){if(void 0===t)return e;if(!F(t)&&!P(t))return t;if(!n.hasAlreadyBeenSeen(t)){if(F(t)&&(void 0===e||F(e))){var r=e||{};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=K(r[i],t[i],n));return r}if(P(t)&&(void 0===e||P(e))){(r=e||[]).length=Math.max(r.length,t.length);for(var o=0;o<t.length;o+=1)r[o]=K(r[o],t[o],n);return r}return t}}function $(e,t,n){return e&&(void 0!==e.message||t instanceof Error)?{message:e.message||"Empty message",stack:Y(e),type:e.name}:{message:n+" "+v(t),stack:"No stack, consider using an instance of Error",type:e&&e.name}}function Y(e){var t=(e.name||"Error")+": "+e.message;return e.stack.forEach(function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"("+e.args.join(", ")+")":"",i=e.line?":"+e.line:"",o=e.line&&e.column?":"+e.column:"";t+="\n  at "+n+r+" @ "+e.url+i+o}),t}!function(e){e.AGENT="agent",e.CONSOLE="console",e.NETWORK="network",e.SOURCE="source",e.LOGGER="logger",e.CUSTOM="custom"}(H||(H={}));var X=/[^\u0000-\u007F]/,J=function(){function e(e,t,n){void 0===n&&(n=!1),this.endpointUrl=e,this.bytesLimit=t,this.withBatchTime=n}return e.prototype.send=function(e,t){var n=this.withBatchTime?function(e){return e+(-1===e.indexOf("?")?"?":"&")+"batch_time="+(new Date).getTime()}(this.endpointUrl):this.endpointUrl;if(navigator.sendBeacon&&t<this.bytesLimit&&navigator.sendBeacon(n,e))return;var r=new XMLHttpRequest;r.open("POST",n,!0),r.send(e)},e}();var Q=function(){function e(e,t,n,r,i,o){void 0===o&&(o=m),this.request=e,this.maxSize=t,this.bytesLimit=n,this.maxMessageSize=r,this.flushTimeout=i,this.beforeUnloadCallback=o,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0,this.flushOnVisibilityHidden(),this.flushPeriodically()}return e.prototype.add=function(e){this.addOrUpdate(e)},e.prototype.upsert=function(e,t){this.addOrUpdate(e,t)},e.prototype.flush=function(){if(0!==this.bufferMessageCount){var e=Object(u.d)(this.pushOnlyBuffer,(t=this.upsertBuffer,n=[],Object.keys(t).forEach(function(e){n.push(t[e])}),n));this.request.send(e.join("\n"),this.bufferBytesSize),this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0}var t,n},e.prototype.sizeInBytes=function(e){return X.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length},e.prototype.addOrUpdate=function(e,t){var n=this.process(e),r=n.processedMessage,i=n.messageBytesSize;i>=this.maxMessageSize?console.warn("Discarded a message whose size was bigger than the maximum allowed size "+this.maxMessageSize+"KB."):(this.hasMessageFor(t)&&this.remove(t),this.willReachedBytesLimitWith(i)&&this.flush(),this.push(r,i,t),this.isFull()&&this.flush())},e.prototype.process=function(e){var t=v(e);return{processedMessage:t,messageBytesSize:this.sizeInBytes(t)}},e.prototype.push=function(e,t,n){this.bufferMessageCount>0&&(this.bufferBytesSize+=1),void 0!==n?this.upsertBuffer[n]=e:this.pushOnlyBuffer.push(e),this.bufferBytesSize+=t,this.bufferMessageCount+=1},e.prototype.remove=function(e){var t=this.upsertBuffer[e];delete this.upsertBuffer[e];var n=this.sizeInBytes(t);this.bufferBytesSize-=n,this.bufferMessageCount-=1,this.bufferMessageCount>0&&(this.bufferBytesSize-=1)},e.prototype.hasMessageFor=function(e){return void 0!==e&&void 0!==this.upsertBuffer[e]},e.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesSize+e+1>=this.bytesLimit},e.prototype.isFull=function(){return this.bufferMessageCount===this.maxSize||this.bufferBytesSize>=this.bytesLimit},e.prototype.flushPeriodically=function(){var e=this;setTimeout(function(){e.flush(),e.flushPeriodically()},this.flushTimeout)},e.prototype.flushOnVisibilityHidden=function(){var e=this;navigator.sendBeacon&&(window.addEventListener(r.BEFORE_UNLOAD,fe(this.beforeUnloadCallback)),document.addEventListener(r.VISIBILITY_CHANGE,fe(function(){"hidden"===document.visibilityState&&e.flush()})),window.addEventListener(r.BEFORE_UNLOAD,fe(function(){return e.flush()})))},e}(),Z="?",ee=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function te(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var ne,re=function(){var e,t,n,r,i,o,a=[];function u(e,t,n){var r;for(var i in a)if(te(a,i))try{a[i](e,t,n)}catch(e){r=e}if(r)throw r}function s(e,r,i,o,a){if(t)ie.augmentStackTraceWithInitialElement(t,r,i,""+e),f();else if(a)u(ie(a),!0,a);else{var s,c={url:r,column:o,line:i},d=e;if("[object String]"==={}.toString.call(e)){var l=d.match(ee);l&&(s=l[1],d=l[2])}u({name:s,message:d,stack:[c]},!0)}return!!n&&n.apply(this,arguments)}function c(e){var t=e.reason||"Empty reason";u(ie(t),!0,t)}function f(){var n=t,r=e;t=void 0,e=void 0,u(n,!1,r)}function d(n){if(t){if(e===n)return;f()}var r=ie(n);throw t=r,e=n,setTimeout(function(){e===n&&f()},r.incomplete?2e3:0),n}return d.subscribe=function(e){r||(n=window.onerror,window.onerror=fe(s),r=!0),o||(i=null!==window.onunhandledrejection?window.onunhandledrejection:void 0,window.onunhandledrejection=fe(c),o=!0),a.push(e)},d.unsubscribe=function(e){for(var t=a.length-1;t>=0;t-=1)a[t]===e&&a.splice(t,1);0===a.length&&(r&&(window.onerror=n,r=!1),o&&(window.onunhandledrejection=i,o=!1))},d.traceKitWindowOnError=s,d}(),ie=function(){var e=!1;function t(e){if(e.stack){for(var t,n,r,i,o=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,u=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,s=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,c=/\((\S*)(?::(\d+))(?::(\d+))\)/,f=e.stack.split("\n"),d=[],l=0,p=f.length;l<p;l+=1){if(o.exec(f[l])){var E=(r=o.exec(f[l]))[2]&&0===r[2].indexOf("native");t=r[2]&&0===r[2].indexOf("eval"),n=c.exec(r[2]),t&&n&&(r[2]=n[1],r[3]=n[2],r[4]=n[3]),i={args:E?[r[2]]:[],column:r[4]?+r[4]:void 0,func:r[1]||Z,line:r[3]?+r[3]:void 0,url:E?void 0:r[2]}}else if(u.exec(f[l]))i={args:[],column:(r=u.exec(f[l]))[4]?+r[4]:void 0,func:r[1]||Z,line:+r[3],url:r[2]};else{if(!a.exec(f[l]))continue;t=(r=a.exec(f[l]))[3]&&r[3].indexOf(" > eval")>-1,n=s.exec(r[3]),t&&n?(r[3]=n[1],r[4]=n[2],r[5]=void 0):0!==l||r[5]||void 0===e.columnNumber||(d[0].column=e.columnNumber+1),i={args:r[2]?r[2].split(","):[],column:r[5]?+r[5]:void 0,func:r[1]||Z,line:r[4]?+r[4]:void 0,url:r[3]}}!i.func&&i.line&&(i.func=Z),d.push(i)}if(d.length)return{stack:d,message:e.message,name:e.name}}}function n(e,t,n,r){var i={url:t,line:n?+n:void 0};if(i.url&&i.line){e.incomplete=!1;var o=e.stack;if(o.length>0&&o[0].url===i.url){if(o[0].line===i.line)return!1;if(!o[0].line&&o[0].func===i.func)return o[0].line=i.line,o[0].context=i.context,!1}return o.unshift(i),e.partial=!0,!0}return e.incomplete=!0,!1}function r(e,t){for(var i,o,a=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,u=[],s={},c=!1,f=r.caller;f&&!c;f=f.caller)f!==ie&&f!==re&&(o={args:[],column:void 0,func:Z,line:void 0,url:void 0},i=a.exec(f.toString()),f.name?o.func=f.name:i&&(o.func=i[1]),void 0===o.func&&(o.func=i?i.input.substring(0,i.input.indexOf("{")):void 0),s[""+f]?c=!0:s[""+f]=!0,u.push(o));t&&u.splice(0,t);var d={stack:u,message:e.message,name:e.name};return n(d,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),d}function i(n,i){var o,a=void 0===i?0:+i;try{if(o=function(e){var t=e.stacktrace;if(t){for(var n,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,o=t.split("\n"),a=[],u=0;u<o.length;u+=2){var s=void 0;r.exec(o[u])?s={args:[],column:void 0,func:(n=r.exec(o[u]))[3],line:+n[1],url:n[2]}:i.exec(o[u])&&(s={args:(n=i.exec(o[u]))[5]?n[5].split(","):[],column:+n[2],func:n[3]||n[4],line:+n[1],url:n[6]}),s&&(!s.func&&s.line&&(s.func=Z),s.context=[o[u+1]],a.push(s))}if(a.length)return{stack:a,message:e.message,name:e.name}}}(n))return o}catch(t){if(e)throw t}try{if(o=t(n))return o}catch(t){if(e)throw t}try{if(o=function(e){var t=e.message.split("\n");if(!(t.length<4)){var n,r=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,i=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,o=/^\s*Line (\d+) of function script\s*$/i,a=[],u=window&&window.document&&window.document.getElementsByTagName("script"),s=[];for(var c in u)te(u,c)&&!u[c].src&&s.push(u[c]);for(var f=2;f<t.length;f+=2){var d=void 0;r.exec(t[f])?d={args:[],column:void 0,func:(n=r.exec(t[f]))[3],line:+n[1],url:n[2]}:i.exec(t[f])?d={args:[],column:void 0,func:(n=i.exec(t[f]))[4],line:+n[1],url:n[3]}:o.exec(t[f])&&(n=o.exec(t[f]),d={url:window.location.href.replace(/#.*$/,""),args:[],column:void 0,func:"",line:+n[1]}),d&&(d.func||(d.func=Z),d.context=[t[f+1]],a.push(d))}if(a.length)return{stack:a,message:t[0],name:e.name}}}(n))return o}catch(t){if(e)throw t}try{if(o=r(n,a+1))return o}catch(t){if(e)throw t}return{message:n.message,name:n.name,stack:[]}}return i.augmentStackTraceWithInitialElement=n,i.computeStackTraceFromStackProp=t,i.ofCaller=function(e){var t=1+(void 0===e?0:+e);try{throw new Error}catch(e){return ie(e,t+1)}},i}();!function(e){e.info="info",e.error="error"}(ne||(ne={}));var oe,ae,ue,se={maxMessagesPerPage:0,sentMessageCount:0};function ce(e){if(e.internalMonitoringEndpoint){var t=function(e){var t,n=r(e.internalMonitoringEndpoint);void 0!==e.replica&&(t=r(e.replica.internalMonitoringEndpoint));function r(t){return new Q(new J(t,e.batchBytesLimit),e.maxBatchSize,e.batchBytesLimit,e.maxMessageSize,e.flushTimeout)}return{add:function(e){var r=function(e){return q({date:(new Date).getTime(),view:{referrer:document.referrer,url:window.location.href}},void 0!==oe?oe():{},e)}(e);n.add(r),t&&t.add(r)}}}(e);!function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];t.forEach(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})}(se,{batch:t,maxMessagesPerPage:e.maxInternalMonitoringMessagesPerPage,sentMessageCount:0})}return{setExternalContextProvider:function(e){oe=e}}}function fe(e){return function(){try{return e.apply(this,arguments)}catch(e){Ee(e);try{!function(e){le(Object(u.a)(Object(u.a)({},function(e){if(e instanceof Error){var t=ie(e);return{error:{kind:t.name,stack:Y(t)},message:t.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught "+v(e)}}(e)),{status:ne.error}))}(e)}catch(e){Ee(e)}}}}function de(e,t){!function(e){se.debugMode&&console.log("[MONITORING MESSAGE]",e)}(e),le(Object(u.a)(Object(u.a)({message:e},t),{status:ne.info}))}function le(e){se.batch&&se.sentMessageCount<se.maxMessagesPerPage&&(se.sentMessageCount+=1,se.batch.add(e))}function pe(e){se.debugMode=e}function Ee(e){se.debugMode&&console.warn("[INTERNAL ERROR]",e)}!function(e){e.US="us",e.EU="eu"}(ue||(ue={}));var me,ve=((ae={})[ue.EU]="datadoghq.eu",ae[ue.US]="datadoghq.com",ae);function Te(e,t){var n=function(e,t){var n={applicationId:e.applicationId,buildMode:t.buildMode,clientToken:e.clientToken,env:e.env,proxyHost:e.proxyHost,sdkVersion:t.sdkVersion,service:e.service,site:e.site||ve[e.datacenter||t.datacenter],version:e.version},r=Array.isArray(e.enableExperimentalFeatures)?e.enableExperimentalFeatures:[],i=Object(u.a)({cookieOptions:V(e),isEnabled:function(e){return h(r,e)},logsEndpoint:B("browser",n),proxyHost:e.proxyHost,rumEndpoint:B("rum",n),service:e.service,traceEndpoint:B("public-trace",n)},k);if(e.internalMonitoringApiKey&&(i.internalMonitoringEndpoint=B("browser",n,"browser-agent-internal-monitoring")),"allowedTracingOrigins"in e&&(i.allowedTracingOrigins=e.allowedTracingOrigins),"sampleRate"in e&&(i.sampleRate=e.sampleRate),"resourceSampleRate"in e&&(i.resourceSampleRate=e.resourceSampleRate),"trackInteractions"in e&&(i.trackInteractions=!!e.trackInteractions),n.buildMode===me.E2E_TEST&&(i.internalMonitoringEndpoint="<<< E2E INTERNAL MONITORING ENDPOINT >>>",i.logsEndpoint="<<< E2E LOGS ENDPOINT >>>",i.rumEndpoint="<<< E2E RUM ENDPOINT >>>"),n.buildMode===me.STAGING&&void 0!==e.replica){var o=Object(u.a)(Object(u.a)({},n),{applicationId:e.replica.applicationId,clientToken:e.replica.clientToken,site:ve[ue.US]});i.replica={applicationId:e.replica.applicationId,internalMonitoringEndpoint:B("browser",o,"browser-agent-internal-monitoring"),logsEndpoint:B("browser",o),rumEndpoint:B("rum",o)}}return i}(e,t);return{configuration:n,internalMonitoring:ce(n)}}function he(e){return!!function(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="dd_cookie_test_"+l();return I(t,"test",s,e),"test"===L(t)}catch(e){return console.error(e),!1}}(e)||(console.warn("Cookies are not authorized, we will not send any data."),!1)}function ge(){return"file:"!==window.location.protocol||(console.error("Execution is not allowed in the current context."),!1)}!function(e){e.RELEASE="release",e.STAGING="staging",e.E2E_TEST="e2e-test"}(me||(me={}));var be,ye=1e4,Ce=function(){function e(e){void 0===e&&(e=ye),this.limit=e,this.buffer=[]}return e.prototype.add=function(e){this.buffer.push(e)>this.limit&&this.buffer.splice(0,1)},e.prototype.drain=function(e){this.buffer.forEach(function(t){return e(t)}),this.buffer.length=0},e}();!function(e){e[e.PERFORMANCE_ENTRY_COLLECTED=0]="PERFORMANCE_ENTRY_COLLECTED",e[e.AUTO_ACTION_CREATED=1]="AUTO_ACTION_CREATED",e[e.AUTO_ACTION_COMPLETED=2]="AUTO_ACTION_COMPLETED",e[e.AUTO_ACTION_DISCARDED=3]="AUTO_ACTION_DISCARDED",e[e.VIEW_CREATED=4]="VIEW_CREATED",e[e.VIEW_UPDATED=5]="VIEW_UPDATED",e[e.REQUEST_STARTED=6]="REQUEST_STARTED",e[e.REQUEST_COMPLETED=7]="REQUEST_COMPLETED",e[e.SESSION_RENEWED=8]="SESSION_RENEWED",e[e.DOM_MUTATED=9]="DOM_MUTATED",e[e.BEFORE_UNLOAD=10]="BEFORE_UNLOAD",e[e.RAW_RUM_EVENT_COLLECTED=11]="RAW_RUM_EVENT_COLLECTED",e[e.RAW_RUM_EVENT_V2_COLLECTED=12]="RAW_RUM_EVENT_V2_COLLECTED",e[e.RUM_EVENT_COLLECTED=13]="RUM_EVENT_COLLECTED",e[e.RUM_EVENT_V2_COLLECTED=14]="RUM_EVENT_V2_COLLECTED"}(be||(be={}));var Oe,Re,_e=function(){function e(){this.callbacks={}}return e.prototype.notify=function(e,t){var n=this.callbacks[e];n&&n.forEach(function(e){return e(t)})},e.prototype.subscribe=function(e,t){var n=this;return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),{unsubscribe:function(){n.callbacks[e]=n.callbacks[e].filter(function(e){return t!==e})}}},e}();function Se(e,t){void 0===t&&(t=m);var n={errorCount:0,longTaskCount:0,resourceCount:0,userActionCount:0},r=e.subscribe(be.RAW_RUM_EVENT_COLLECTED,function(e){switch(e.rawRumEvent.evt.category){case Oe.ERROR:n.errorCount+=1,t(n);break;case Oe.USER_ACTION:n.userActionCount+=1,t(n);break;case Oe.LONG_TASK:n.longTaskCount+=1,t(n);break;case Oe.RESOURCE:n.resourceCount+=1,t(n)}}),i=e.subscribe(be.RAW_RUM_EVENT_V2_COLLECTED,function(e){switch(e.rawRumEvent.type){case Re.ERROR:n.errorCount+=1,t(n);break;case Re.ACTION:n.userActionCount+=1,t(n);break;case Re.LONG_TASK:n.longTaskCount+=1,t(n);break;case Re.RESOURCE:n.resourceCount+=1,t(n)}});return{stop:function(){r.unsubscribe(),i.unsubscribe()},eventCounts:n}}!function(e){e.USER_ACTION="user_action",e.ERROR="error",e.LONG_TASK="long_task",e.VIEW="view",e.RESOURCE="resource"}(Oe||(Oe={})),function(e){e.ACTION="action",e.ERROR="error",e.LONG_TASK="long_task",e.VIEW="view",e.RESOURCE="resource"}(Re||(Re={}));var we=function(){function e(){this.observers=[]}return e.prototype.subscribe=function(e){this.observers.push(e)},e.prototype.notify=function(e){this.observers.forEach(function(t){return t(e)})},e}(),Ae=100,Ie=100,Le=1e4;function Ne(e,t){var n=function(e){var t,n=new we,r=[],i=0;function o(){n.notify({isBusy:i>0})}return r.push(e.subscribe(be.DOM_MUTATED,function(){return o()})),r.push(e.subscribe(be.PERFORMANCE_ENTRY_COLLECTED,function(e){"resource"===e.entryType&&o()})),r.push(e.subscribe(be.REQUEST_STARTED,function(e){void 0===t&&(t=e.requestIndex),i+=1,o()})),r.push(e.subscribe(be.REQUEST_COMPLETED,function(e){void 0===t||e.requestIndex<t||(i-=1,o())})),{observable:n,stop:function(){r.forEach(function(e){return e.unsubscribe()})}}}(e),r=n.observable,i=n.stop,o=function(e,t,n){var r,i=!1,o=setTimeout(fe(function(){return s(!1,0)}),Ae),a=setTimeout(fe(function(){return s(!0,performance.now())}),Le);function u(){i=!0,clearTimeout(o),clearTimeout(r),clearTimeout(a),t()}function s(e,t){i||(u(),n(e,t))}return e.subscribe(function(e){var t=e.isBusy;clearTimeout(o),clearTimeout(r);var n=performance.now();t||(r=setTimeout(fe(function(){return s(!0,n)}),Ie))}),{stop:u}}(r,i,t).stop;return{stop:function(){o(),i()}}}function De(e){return function(e){var t;if(function(){void 0===ke&&(ke="closest"in HTMLElement.prototype);return ke}())t=e.closest("["+Ue+"]");else for(var n=e;n;){if(n.hasAttribute(Ue)){t=n;break}n=n.parentElement}if(!t)return;return Fe(Pe(t.getAttribute(Ue).trim()))}(e)||He(e,Be)||He(e,je)||""}var Ue="data-dd-action-name";var Me,xe,ke,Ve,Be=[function(e){if(function(){void 0===xe&&(xe="labels"in HTMLInputElement.prototype);return xe}()){if("labels"in e&&e.labels&&e.labels.length>0)return qe(e.labels[0])}else if(e.id){var t=e.ownerDocument&&e.ownerDocument.querySelector('label[for="'+e.id.replace('"','\\"')+'"]');return t&&qe(t)}},function(e){if("INPUT"===e.nodeName){var t=e,n=t.getAttribute("type");if("button"===n||"submit"===n||"reset"===n)return t.value}},function(e){if("BUTTON"===e.nodeName||"LABEL"===e.nodeName||"button"===e.getAttribute("role"))return qe(e)},function(e){return e.getAttribute("aria-label")},function(e){var t=e.getAttribute("aria-labelledby");if(t)return t.split(/\s+/).map(function(t){return function(e,t){return e.ownerDocument?e.ownerDocument.getElementById(t):null}(e,t)}).filter(function(e){return Boolean(e)}).map(qe).join(" ")},function(e){return e.getAttribute("alt")},function(e){return e.getAttribute("name")},function(e){return e.getAttribute("title")},function(e){return e.getAttribute("placeholder")},function(e){if("options"in e&&e.options.length>0)return qe(e.options[0])}],je=[function(e){return qe(e)}],We=10;function He(e,t){for(var n=e,r=0;r<=We&&n&&"BODY"!==n.nodeName&&"HTML"!==n.nodeName&&"HEAD"!==n.nodeName;){for(var i=0,o=t;i<o.length;i++){var a=(0,o[i])(n);if("string"==typeof a){var u=a.trim();if(u)return Fe(Pe(u))}}if("FORM"===n.nodeName)break;n=n.parentElement,r+=1}}function Pe(e){return e.replace(/\s+/g," ")}function Fe(e){return e.length>100?(n=100,((r=(t=e).charCodeAt(n-1))>=55296&&r<=56319?t.slice(0,n+1):t.slice(0,n))+" [...]"):e;var t,n,r}function qe(e){if(!e.isContentEditable){if("innerText"in e){var t=e.innerText;if(!function(){if(void 0===Me){var e=document.createElement("style");e.textContent="*";var t=document.createElement("div");t.appendChild(e),document.body.appendChild(t),Me=""===t.innerText,document.body.removeChild(t)}return Me}())for(var n=e.querySelectorAll("script, style"),r=0;r<n.length;r+=1){var i=n[r].innerText;i.trim().length>0&&(t=t.replace(i,""))}return t}return e.textContent}}function Ge(e){var t=function(e){var t,n;return{create:function(r,i){if(!t){var o=new ze(e,r,i);t=o,n=Ne(e,function(e,n){e?o.complete(n):o.discard(),t=void 0})}},discardCurrent:function(){t&&(n.stop(),t.discard(),t=void 0)}}}(e);function n(e){if(e.target instanceof Element){var n=De(e.target);n&&t.create(Ve.CLICK,n)}}return e.subscribe(be.VIEW_CREATED,function(){t.discardCurrent()}),addEventListener(r.CLICK,n,{capture:!0}),{stop:function(){t.discardCurrent(),removeEventListener(r.CLICK,n,{capture:!0})}}}!function(e){e.CLICK="click",e.CUSTOM="custom"}(Ve||(Ve={}));var ze=function(){function e(e,t,n){this.lifeCycle=e,this.type=t,this.name=n,this.id=l(),this.startTime=performance.now(),this.eventCountsSubscription=Se(e),this.lifeCycle.notify(be.AUTO_ACTION_CREATED,{id:this.id,startTime:this.startTime})}return e.prototype.complete=function(e){var t=this.eventCountsSubscription.eventCounts;this.lifeCycle.notify(be.AUTO_ACTION_COMPLETED,{counts:{errorCount:t.errorCount,longTaskCount:t.longTaskCount,resourceCount:t.resourceCount},duration:e-this.startTime,id:this.id,name:this.name,startTime:this.startTime,type:this.type}),this.eventCountsSubscription.stop()},e.prototype.discard=function(){this.lifeCycle.notify(be.AUTO_ACTION_DISCARDED),this.eventCountsSubscription.stop()},e}();function Ke(e){var t,n=function(){var e,t=window;if(t.Zone){var n=t.Zone.__symbol__("MutationObserver");e=t[n]}return e||(e=t.MutationObserver),e}();return n&&(t=new n(fe(function(){e.notify(be.DOM_MUTATED)}))).observe(document.documentElement,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),{stop:function(){t&&t.disconnect()}}}var $e="initial_document",Ye=[[i.DOCUMENT,function(e){return $e===e}],[i.XHR,function(e){return"xmlhttprequest"===e}],[i.FETCH,function(e){return"fetch"===e}],[i.BEACON,function(e){return"beacon"===e}],[i.CSS,function(e,t){return null!==t.match(/\.css$/i)}],[i.JS,function(e,t){return null!==t.match(/\.js$/i)}],[i.IMAGE,function(e,t){return h(["image","img","icon"],e)||null!==t.match(/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i)}],[i.FONT,function(e,t){return null!==t.match(/\.(woff|eot|woff2|ttf)$/i)}],[i.MEDIA,function(e,t){return h(["audio","video"],e)||null!==t.match(/\.(mp3|mp4)$/i)}]];function Xe(e){var t=e.name;if(!function(e){try{return!!x(e)}catch(e){return!1}}(t))return de('Failed to construct URL for "'+e.name+'"'),i.OTHER;for(var n=M(t),r=0,o=Ye;r<o.length;r++){var a=o[r],u=a[0];if((0,a[1])(e.initiatorType,n))return u}return i.OTHER}function Je(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=1;n<e.length;n+=1)if(e[n-1]>e[n])return!1;return!0}function Qe(e){var t=e.duration,n=e.startTime,r=e.responseEnd;return E(0===t&&n<r?r-n:t)}function Ze(e){var t=et(e);if(t){var n=t.startTime,r=t.fetchStart,i=t.redirectStart,o=t.redirectEnd,a=t.domainLookupStart,u=t.domainLookupEnd,s=t.connectStart,c=t.secureConnectionStart,f=t.connectEnd,d=t.requestStart,l=t.responseStart,p={download:nt(n,l,t.responseEnd),firstByte:nt(n,d,l)};return f!==r&&(p.connect=nt(n,s,f),Je(s,c,f)&&(p.ssl=nt(n,c,f))),u!==r&&(p.dns=nt(n,a,u)),tt(e)&&(p.redirect=nt(n,i,o)),p}}function et(e){if(Je(e.startTime,e.fetchStart,e.domainLookupStart,e.domainLookupEnd,e.connectStart,e.connectEnd,e.requestStart,e.responseStart,e.responseEnd)){if(!tt(e))return e;var t=e.redirectStart,n=e.redirectEnd;if(t<e.startTime&&(t=e.startTime),n<e.startTime&&(n=e.fetchStart),Je(e.startTime,t,n,e.fetchStart))return Object(u.a)(Object(u.a)({},e),{redirectEnd:n,redirectStart:t})}}function tt(e){return e.fetchStart!==e.startTime}function nt(e,t,n){return{duration:E(n-t),start:E(t-e)}}function rt(e){if(e.startTime<e.responseStart)return e.decodedBodySize}function it(e,t){return t&&!j(t,e)}var ot,at,ut=2*c;function st(e){var t=function(e){var t=e.querySelector("meta[name=dd-trace-id]"),n=e.querySelector("meta[name=dd-trace-time]");return ct(t&&t.content,n&&n.content)}(e)||function(e){var t=function(e){for(var t=0;t<e.childNodes.length;t+=1){var n=ft(e.childNodes[t]);if(n)return n}if(e.body)for(var t=e.body.childNodes.length-1;t>=0;t-=1){var r=e.body.childNodes[t],n=ft(r);if(n)return n;if(!dt(r))break}}(e);if(!t)return;return ct(_(t,"trace-id"),_(t,"trace-time"))}(e);if(t&&!(t.traceTime<=Date.now()-ut))return t.traceId}function ct(e,t){var n=t&&Number(t);if(e&&n)return{traceId:e,traceTime:n}}function ft(e){if(e&&function(e){return"#comment"===e.nodeName}(e)){var t=e.data.match(/^\s*DATADOG;(.*?)\s*$/);if(t)return t[1]}}function dt(e){return"#text"===e.nodeName}function lt(){return void 0!==window.performance&&"getEntries"in performance}function pt(){return window.PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("navigation")}function Et(e,t){var n;if(n=function(n){ht(e,t,n)},mt("interactive",function(){var e,t={entryType:"resource",initiatorType:$e,traceId:st(document)};if(pt()&&performance.getEntriesByType("navigation").length>0){var r=performance.getEntriesByType("navigation")[0];e=Object(u.a)(Object(u.a)({},r.toJSON()),t)}else{var i=vt();e=Object(u.a)(Object(u.a)(Object(u.a)({},i),{decodedBodySize:0,duration:i.responseEnd,name:window.location.href,startTime:0}),t)}n(e)}),lt()&&Tt(e,t,performance.getEntries()),window.PerformanceObserver){var r=new PerformanceObserver(fe(function(n){return Tt(e,t,n.getEntries())})),i=["resource","navigation","longtask"];"visible"===document.visibilityState&&i.push("paint"),r.observe({entryTypes:i}),lt()&&"addEventListener"in performance&&performance.addEventListener("resourcetimingbufferfull",function(){performance.clearResourceTimings()})}pt()||function(e){function t(){e(Object(u.a)(Object(u.a)({},vt()),{entryType:"navigation"}))}mt("complete",function(){setTimeout(fe(t))})}(function(n){ht(e,t,n)})}function mt(e,t){if(document.readyState===e||"complete"===document.readyState)t();else{var n="complete"===e?r.LOAD:r.DOM_CONTENT_LOADED,i=fe(function(){window.removeEventListener(n,i),t()});window.addEventListener(n,i)}}function vt(){var e={},t=performance.timing;for(var n in t)b(t[n])&&(e[n]=0===t[n]?0:t[n]-C());return e}function Tt(e,t,n){n.forEach(function(n){"resource"!==n.entryType&&"navigation"!==n.entryType&&"paint"!==n.entryType&&"longtask"!==n.entryType||ht(e,t,n)})}function ht(e,t,n){(function(e){return"navigation"===e.entryType&&e.loadEventEnd<=0})(n)||function(e,t){return"resource"===t.entryType&&!it(e,t.name)}(t,n)||e.notify(be.PERFORMANCE_ENTRY_COLLECTED,n)}function gt(e,t,n,r,i,o){n.subscribe(be.RAW_RUM_EVENT_COLLECTED,function(a){var u,s=a.startTime,c=a.rawRumEvent,f=a.savedGlobalContext,d=a.customerContext,l=i.findView(s);if(r.isTracked()&&l&&l.sessionId){var p=i.findAction(s),E={applicationId:e,date:(new Date).getTime(),service:t.service,session:{type:void 0===window._DATADOG_SYNTHETICS_BROWSER?ot.USER:ot.SYNTHETICS}},m=(u=c,-1!==[Oe.ERROR,Oe.RESOURCE,Oe.LONG_TASK].indexOf(u.evt.category)?q(E,l,p,c):q(E,l,c)),v=q(f||o(),d,W(m));n.notify(be.RUM_EVENT_COLLECTED,{rumEvent:m,serverRumEvent:v})}})}function bt(e,t,n,r,i,o){n.subscribe(be.RAW_RUM_EVENT_V2_COLLECTED,function(a){var u,s=a.startTime,c=a.rawRumEvent,f=a.savedGlobalContext,d=a.customerContext,l=i.findViewV2(s);if(r.isTracked()&&l&&l.session.id){var p=i.findActionV2(s),E={_dd:{formatVersion:2},application:{id:e},date:(new Date).getTime(),service:t.service,session:{type:void 0===window._DATADOG_SYNTHETICS_BROWSER?at.USER:at.SYNTHETICS}},m=(u=c,-1!==[Re.ERROR,Re.RESOURCE,Re.LONG_TASK].indexOf(u.type)?q(E,l,p,c):q(E,l,c)),v=W(m);v.context=q(f||o(),d),n.notify(be.RUM_EVENT_V2_COLLECTED,{rumEvent:m,serverRumEvent:v})}})}!function(e){e.SYNTHETICS="synthetics",e.USER="user"}(ot||(ot={})),function(e){e.SYNTHETICS="synthetics",e.USER="user"}(at||(at={}));var yt="_dd",Ct="_dd_r",Ot="_dd_l",Rt="rum",_t="logs";var St="_dd_s",wt=15*c,At=4*f,It=c;function Lt(e,t,n){var i=function(e,t){var n,r,i=!1,o=function(){i=!0,window.clearTimeout(n),n=window.setTimeout(function(){i=!1},A)};return{get:function(){return i?r:(r=L(e),o(),r)},set:function(n,i){I(e,n,i,t),r=n,o()}}}(St,e);!function(e){var t=e.get(),n=L(yt),r=L(Ct),i=L(Ot);if(!t){var o={};n&&(o.id=n),i&&/^[01]$/.test(i)&&(o[_t]=i),r&&/^[012]$/.test(r)&&(o[Rt]=r),Mt(o,e)}}(i);var o=new we,a=Ut(i).id,u=d(function(){var e=Ut(i),r=n(e[t]),u=r.trackingType,s=r.isTracked;e[t]=u,s&&!e.id&&(e.id=l(),e.created=String(Date.now())),Mt(e,i),s&&a!==e.id&&(a=e.id,o.notify())},A).throttled;return u(),function(e){var t=fe(e),n={capture:!0,passive:!0};[r.CLICK,r.TOUCH_START,r.KEY_DOWN,r.SCROLL].forEach(function(e){document.addEventListener(e,t,n),kt.push(function(){return document.removeEventListener(e,t,n)})})}(u),function(e){var t=fe(function(){"visible"===document.visibilityState&&e()}),n=window.setInterval(t,It);document.addEventListener(r.VISIBILITY_CHANGE,t),kt.push(function(){clearInterval(n),document.removeEventListener(r.VISIBILITY_CHANGE,t)})}(function(){Mt(Ut(i),i)}),{getId:function(){return Ut(i).id},getTrackingType:function(){return Ut(i)[t]},renewObservable:o}}var Nt=/^([a-z]+)=([a-z0-9-]+)$/,Dt="&";function Ut(e){var t=function(e){var t=e.get(),n={};(function(e){return void 0!==e&&(-1!==e.indexOf(Dt)||Nt.test(e))})(t)&&t.split(Dt).forEach(function(e){var t=Nt.exec(e);if(null!==t){var r=t[1],i=t[2];n[r]=i}});return n}(e);return function(e){return(void 0===e.created||Date.now()-Number(e.created)<At)&&(void 0===e.expire||Date.now()<Number(e.expire))}(t)?t:(xt(e),{})}function Mt(e,t){if(n=e,0!==Object.keys(n).length){var n;e.expire=String(Date.now()+wt);var r=O(e).map(function(e){return e[0]+"="+e[1]}).join(Dt);t.set(r,wt)}else xt(t)}function xt(e){e.set("",0)}var kt=[];var Vt,Bt=At,jt=5*c,Wt=c;var Ht,Pt,Ft,qt,Gt=[],zt=[];function Kt(){return Vt||(Ht=XMLHttpRequest.prototype.open,Pt=XMLHttpRequest.prototype.send,XMLHttpRequest.prototype.open=fe(function(e,t){return this._datadog_xhr={method:e,startTime:-1,url:N(t)},Ht.apply(this,arguments)}),XMLHttpRequest.prototype.send=fe(function(e){var t=this;if(this._datadog_xhr){this._datadog_xhr.startTime=performance.now();var n=this.onreadystatechange;this.onreadystatechange=function(){this.readyState===XMLHttpRequest.DONE&&fe(i)(),n&&n.apply(this,arguments)};var r=!1,i=function(){r||(r=!0,t._datadog_xhr.duration=performance.now()-t._datadog_xhr.startTime,t._datadog_xhr.response=t.response,t._datadog_xhr.status=t.status,zt.forEach(function(e){return e(t._datadog_xhr)}))};this.addEventListener("loadend",fe(i)),Gt.forEach(function(e){return e(t._datadog_xhr,t)})}return Pt.apply(this,arguments)}),Vt={beforeSend:function(e){Gt.push(e)},onRequestComplete:function(e){zt.push(e)}}),Vt}var $t=[],Yt=[];function Xt(){return Ft||(!function(){if(!window.fetch)return;qt=window.fetch,window.fetch=fe(function(e,t){var n=this,r=t&&t.method||"object"==typeof e&&e.method||"GET",i=N("object"==typeof e&&e.url||e),o=performance.now(),a={init:t,method:r,startTime:o,url:i},s=function(e){return Object(u.b)(n,void 0,void 0,function(){var t,n;return Object(u.c)(this,function(r){switch(r.label){case 0:return a.duration=performance.now()-a.startTime,"stack"in e||e instanceof Error?(a.status=0,a.response=Y(ie(e)),Yt.forEach(function(e){return e(a)}),[3,6]):[3,1];case 1:if(!("status"in e))return[3,6];t=void 0,r.label=2;case 2:return r.trys.push([2,4,,5]),[4,e.clone().text()];case 3:return t=r.sent(),[3,5];case 4:return n=r.sent(),t="Unable to retrieve response: "+n,[3,5];case 5:a.response=t,a.responseType=e.type,a.status=e.status,Yt.forEach(function(e){return e(a)}),r.label=6;case 6:return[2]}})})};$t.forEach(function(e){return e(a)});var c=qt.call(this,e,a.init);return c.then(fe(s),fe(s)),c})}(),Ft={beforeSend:function(e){$t.push(e)},onRequestComplete:function(e){Yt.push(e)}}),Ft}function Jt(e,t,n){if(void 0!==Qt()&&function(e,t){for(var n=U(t),r=0,i=e.allowedTracingOrigins;r<i.length;r++){var o=i[r];if(n===o||o instanceof RegExp&&o.test(n))return!0}return!1}(e,t)){var r=new rn,i=new rn;return n(function(e,t){return{"x-datadog-origin":"rum","x-datadog-parent-id":t.toDecimalString(),"x-datadog-sampled":"1","x-datadog-sampling-priority":"1","x-datadog-trace-id":e.toDecimalString()}}(r,i)),{traceId:r,spanId:i}}}function Qt(){return window.crypto||window.msCrypto}var Zt,en,tn,nn,rn=function(){function e(){this.buffer=new Uint8Array(8),Qt().getRandomValues(this.buffer),this.buffer[0]=127&this.buffer[0]}return e.prototype.toString=function(e){for(var t=this.readInt32(0),n=this.readInt32(4),r="";;){var i=t%e*4294967296+n;if(t=Math.floor(t/e),n=Math.floor(i/e),r=(i%e).toString(e)+r,!t&&!n)break}return r},e.prototype.toDecimalString=function(){return this.toString(10)},e.prototype.readInt32=function(e){return 16777216*this.buffer[e]+(this.buffer[e+1]<<16)+(this.buffer[e+2]<<8)+this.buffer[e+3]},e}(),on=1;function an(e,t){var n=function(e){return{traceFetch:function(t){return Jt(e,t.url,function(e){t.init=Object(u.a)({},t.init);var n=[];t.init.headers instanceof Headers?t.init.headers.forEach(function(e,t){n.push([t,e])}):Array.isArray(t.init.headers)?t.init.headers.forEach(function(e){n.push(e)}):t.init.headers&&Object.keys(t.init.headers).forEach(function(e){n.push([e,t.init.headers[e]])}),t.init.headers=n.concat(O(e))})},traceXhr:function(t,n){return Jt(e,t.url,function(e){Object.keys(e).forEach(function(t){n.setRequestHeader(t,e[t])})})}}}(t);!function(e,t,n){var r=Kt();r.beforeSend(function(r,i){if(it(t,r.url)){var o=n.traceXhr(r,i);o&&(r.traceId=o.traceId,r.spanId=o.spanId),r.requestIndex=un(),e.notify(be.REQUEST_STARTED,{requestIndex:r.requestIndex})}}),r.onRequestComplete(function(n){it(t,n.url)&&e.notify(be.REQUEST_COMPLETED,{duration:n.duration,method:n.method,requestIndex:n.requestIndex,response:n.response,spanId:n.spanId,startTime:n.startTime,status:n.status,traceId:n.traceId,type:o.XHR,url:n.url})})}(e,t,n),function(e,t,n){var r=Xt();r.beforeSend(function(r){if(it(t,r.url)){var i=n.traceFetch(r);i&&(r.traceId=i.traceId,r.spanId=i.spanId),r.requestIndex=un(),e.notify(be.REQUEST_STARTED,{requestIndex:r.requestIndex})}}),r.onRequestComplete(function(n){it(t,n.url)&&e.notify(be.REQUEST_COMPLETED,{duration:n.duration,method:n.method,requestIndex:n.requestIndex,response:n.response,responseType:n.responseType,spanId:n.spanId,startTime:n.startTime,status:n.status,traceId:n.traceId,type:o.FETCH,url:n.url})})}(e,t,n)}function un(){var e=on;return on+=1,e}function sn(e,t){return e.subscribe(be.AUTO_ACTION_COMPLETED,function(n){t.isEnabled("v2_format")?e.notify(be.RAW_RUM_EVENT_V2_COLLECTED,fn(n)):e.notify(be.RAW_RUM_EVENT_COLLECTED,cn(n))}),t.trackInteractions&&Ge(e),{addAction:function(n,r){t.isEnabled("v2_format")?e.notify(be.RAW_RUM_EVENT_V2_COLLECTED,Object(u.a)({savedGlobalContext:r},fn(n))):e.notify(be.RAW_RUM_EVENT_COLLECTED,Object(u.a)({savedGlobalContext:r},cn(n)))}}}function cn(e){var t=dn(e)?{duration:E(e.duration),userAction:{id:e.id,measures:e.counts}}:void 0;return{customerContext:dn(e)?void 0:e.context,rawRumEvent:q({date:y(e.startTime),evt:{category:Oe.USER_ACTION,name:e.name},userAction:{type:e.type}},t),startTime:e.startTime}}function fn(e){var t=dn(e)?{action:{error:{count:e.counts.errorCount},id:e.id,loadingTime:E(e.duration),longTask:{count:e.counts.longTaskCount},resource:{count:e.counts.resourceCount}}}:void 0;return{customerContext:dn(e)?void 0:e.context,rawRumEvent:q({action:{target:{name:e.name},type:e.type},date:y(e.startTime),type:Re.ACTION},t),startTime:e.startTime}}function dn(e){return e.type!==Ve.CUSTOM}function ln(e){if(!Zt){var t=new we;!function(e,t){function n(n,r){j(r.url,e)||!function(e){return 0===e.status&&"opaque"!==e.responseType}(r)&&!function(e){return e.status>=500}(r)||t.notify({message:mn(n)+" error "+r.method+" "+r.url,resource:{method:r.method,statusCode:r.status,url:r.url},source:H.NETWORK,stack:En(r.response,e)||"Failed to load",startTime:r.startTime})}Kt().onRequestComplete(function(e){return n(o.XHR,e)}),Xt().onRequestComplete(function(e){return n(o.FETCH,e)})}(e,t),function(e){en=console.error,console.error=fe(function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];en.apply(console,Object(u.d)([t],n)),e.notify({message:Object(u.d)(["console error:",t],n).map(pn).join(" "),source:H.CONSOLE,startTime:performance.now()})})}(t),function(e){tn=function(t,n,r){var i=$(t,r,"Uncaught"),o=i.stack,a=i.message,u=i.type;e.notify({message:a,stack:o,type:u,source:H.SOURCE,startTime:performance.now()})},re.subscribe(tn)}(t),Zt=function(e,t){var n=0,r=new we;return t.subscribe(function(t){n<e.maxErrorsByMinute?(n+=1,r.notify(t)):n===e.maxErrorsByMinute&&(n+=1,r.notify({message:"Reached max number of errors by minute: "+e.maxErrorsByMinute,source:H.AGENT,startTime:performance.now()}))}),setInterval(function(){return n=0},c),r}(e,t)}return Zt}function pn(e){return"string"==typeof e?e:e instanceof Error?Y(ie(e)):v(e,0,2)}function En(e,t){return e&&e.length>t.requestErrorResponseLengthLimit?e.substring(0,t.requestErrorResponseLengthLimit)+"...":e}function mn(e){return o.XHR===e?"XHR":"Fetch"}function vn(e,t){return function(e,t,n){return n.subscribe(function(n){t.isEnabled("v2_format")?e.notify(be.RAW_RUM_EVENT_V2_COLLECTED,hn(n)):e.notify(be.RAW_RUM_EVENT_COLLECTED,Tn(n))}),{addError:function(n,r){var i=n.error,o=n.startTime,a=n.context,s=function(e,t,n){var r=e instanceof Error?ie(e):void 0;return Object(u.a)({startTime:t,source:n},$(r,e,"Provided"))}(i,o,n.source);t.isEnabled("v2_format")?e.notify(be.RAW_RUM_EVENT_V2_COLLECTED,Object(u.a)({customerContext:a,savedGlobalContext:r},hn(s))):e.notify(be.RAW_RUM_EVENT_COLLECTED,Object(u.a)({customerContext:a,savedGlobalContext:r},Tn(s)))}}}(e,t,ln(t))}function Tn(e){return{rawRumEvent:q({date:y(e.startTime),error:{kind:e.type,origin:e.source,stack:e.stack},evt:{category:Oe.ERROR},message:e.message},e.resource?{http:{method:e.resource.method,status_code:e.resource.statusCode,url:e.resource.url}}:void 0),startTime:e.startTime}}function hn(e){return{rawRumEvent:{date:y(e.startTime),error:{message:e.message,resource:e.resource,source:e.source,stack:e.stack,type:e.type},type:Re.ERROR},startTime:e.startTime}}function gn(e){if(performance&&"getEntriesByName"in performance){var t,n=performance.getEntriesByName(e.url,"resource").map(function(e){return e.toJSON()}).filter(et).filter(function(t){return n=t,r=e.startTime,i=bn(e),n.startTime>=r&&bn(n)<=i;var n,r,i});return 1===n.length?n[0]:2===n.length&&bn((t=n)[0])<=t[1].startTime?n[1]:void 0}}function bn(e){return e.startTime+e.duration}function yn(e,t,n){e.subscribe(be.REQUEST_COMPLETED,function(r){n.isTrackedWithResource()&&(t.isEnabled("v2_format")?e.notify(be.RAW_RUM_EVENT_V2_COLLECTED,function(e){var t=e.type===o.XHR?i.XHR:i.FETCH,n=gn(e),r=n?n.startTime:e.startTime,a=n?On(n):void 0,u=Rn(e),s=q({date:y(r),resource:{type:t,duration:E(e.duration),method:e.method,statusCode:e.status,url:e.url},type:Re.RESOURCE},u,a);return{startTime:r,rawRumEvent:s}}(r)):e.notify(be.RAW_RUM_EVENT_COLLECTED,function(e){var t=e.type===o.XHR?i.XHR:i.FETCH,n=gn(e),r=n?n.startTime:e.startTime,a=n?Cn(n):void 0,u=Rn(e),s=q({date:y(r),duration:E(e.duration),evt:{category:Oe.RESOURCE},http:{method:e.method,statusCode:e.status,url:e.url},resource:{kind:t}},u,a);return{startTime:r,rawRumEvent:s}}(r)))}),e.subscribe(be.PERFORMANCE_ENTRY_COLLECTED,function(r){var i;n.isTrackedWithResource()&&"resource"===r.entryType&&("xmlhttprequest"!==(i=r).initiatorType&&"fetch"!==i.initiatorType)&&(t.isEnabled("v2_format")?e.notify(be.RAW_RUM_EVENT_V2_COLLECTED,function(e){var t=Xe(e),n=On(e),r=_n(e),i=q({date:y(e.startTime),resource:{type:t,url:e.name},type:Re.RESOURCE},r,n);return{startTime:e.startTime,rawRumEvent:i}}(r)):e.notify(be.RAW_RUM_EVENT_COLLECTED,function(e){var t=Xe(e),n=Cn(e),r=_n(e),i=q({date:y(e.startTime),evt:{category:Oe.RESOURCE},http:{url:e.name},resource:{kind:t}},r,n);return{startTime:e.startTime,rawRumEvent:i}}(r)))})}function Cn(e){return{duration:Qe(e),http:{performance:Ze(e)},network:{bytesWritten:rt(e)}}}function On(e){return{resource:Object(u.a)({duration:Qe(e),size:rt(e)},Ze(e))}}function Rn(e){if(e.traceId&&e.spanId)return{_dd:{spanId:e.spanId.toDecimalString(),traceId:e.traceId.toDecimalString()},resource:{id:l()}}}function _n(e){return e.traceId?{_dd:{traceId:e.traceId}}:void 0}!function(e){e.INITIAL_LOAD="initial_load",e.ROUTE_CHANGE="route_change"}(nn||(nn={}));var Sn=3e3,wn=5*c;function An(e,t){var n,i=In(t,e,nn.INITIAL_LOAD,document.referrer,0),o=i,a=function(e,t){var n;return{stop:e.subscribe(be.PERFORMANCE_ENTRY_COLLECTED,function(e){"navigation"===e.entryType?(n=Object(u.a)(Object(u.a)({},n),{domComplete:e.domComplete,domContentLoaded:e.domContentLoadedEventEnd,domInteractive:e.domInteractive,loadEventEnd:e.loadEventEnd}),t(n)):"paint"===e.entryType&&"first-contentful-paint"===e.name&&(n=Object(u.a)(Object(u.a)({},n),{firstContentfulPaint:e.startTime}),t(n))}).unsubscribe}}(t,function(e){i.updateTimings(e),i.scheduleUpdate()}).stop;function s(){o.isDifferentView(e)?(o.triggerUpdate(),o.end(),o=In(t,e,nn.ROUTE_CHANGE,o.url)):(o.updateLocation(e),o.triggerUpdate())}!function(e){var t=history.pushState;history.pushState=fe(function(){t.apply(this,arguments),e()});var n=history.replaceState;history.replaceState=fe(function(){n.apply(this,arguments),e()}),window.addEventListener(r.POP_STATE,fe(e))}(s),n=s,window.addEventListener("hashchange",fe(n)),t.subscribe(be.SESSION_RENEWED,function(){o.end(),o=In(t,e,nn.ROUTE_CHANGE,o.url)}),t.subscribe(be.BEFORE_UNLOAD,function(){o.triggerUpdate(),o.end()});var c=window.setInterval(fe(function(){o.triggerUpdate()}),wn);return{stop:function(){a(),o.end(),clearInterval(c)}}}function In(e,t,n,r,i){void 0===i&&(i=performance.now());var o,a,s=l(),c={errorCount:0,longTaskCount:0,resourceCount:0,userActionCount:0},f={},p=0,E=Object(u.a)({},t);e.notify(be.VIEW_CREATED,{id:s,startTime:i,location:E,referrer:r});var m=d(fe(O),Sn,{leading:!1}),v=m.throttled,T=m.cancel,h=Se(e,function(e){c=e,v()}).stop,g=function(e,t){var n=e===nn.INITIAL_LOAD,r=!0,i=[];function o(){!r&&!n&&i.length>0&&t(Math.max.apply(Math,i))}return{setLoadEventEnd:function(e){n&&(n=!1,i.push(e),o())},setActivityLoadingTime:function(e){r&&(r=!1,void 0!==e&&i.push(e),o())}}}(n,function(e){o=e,v()}),b=g.setActivityLoadingTime,y=g.setLoadEventEnd,C=function(e,t){var n=performance.now();return{stop:Ne(e,function(e,r){t(e?r-n:void 0)}).stop}}(e,b).stop;function O(){p+=1,e.notify(be.VIEW_UPDATED,{documentVersion:p,eventCounts:c,id:s,loadingTime:o,loadingType:n,location:E,referrer:r,startTime:i,timings:f,duration:(void 0===a?performance.now():a)-i})}return O(),{scheduleUpdate:v,end:function(){a=performance.now(),h(),C()},isDifferentView:function(e){return E.pathname!==e.pathname||(t=e.hash,n=t.substr(1),!document.getElementById(n)&&e.hash!==E.hash);var t,n},triggerUpdate:function(){T(),O()},updateTimings:function(e){f=e,void 0!==e.loadEventEnd&&y(e.loadEventEnd)},updateLocation:function(e){E=Object(u.a)({},e)},get url(){return E.href}}}function Ln(e,t,n){return e.subscribe(be.VIEW_UPDATED,function(n){t.isEnabled("v2_format")?e.notify(be.RAW_RUM_EVENT_V2_COLLECTED,function(e){return{rawRumEvent:{_dd:{documentVersion:e.documentVersion},date:y(e.startTime),type:Re.VIEW,view:{action:{count:e.eventCounts.userActionCount},domComplete:E(e.timings.domComplete),domContentLoaded:E(e.timings.domContentLoaded),domInteractive:E(e.timings.domInteractive),error:{count:e.eventCounts.errorCount},firstContentfulPaint:E(e.timings.firstContentfulPaint),loadEventEnd:E(e.timings.loadEventEnd),loadingTime:E(e.loadingTime),loadingType:e.loadingType,longTask:{count:e.eventCounts.longTaskCount},resource:{count:e.eventCounts.resourceCount},timeSpent:E(e.duration)}},startTime:e.startTime}}(n)):e.notify(be.RAW_RUM_EVENT_COLLECTED,function(e){return{rawRumEvent:{date:y(e.startTime),duration:E(e.duration),evt:{category:Oe.VIEW},rum:{documentVersion:e.documentVersion},view:{loadingTime:E(e.loadingTime),loadingType:e.loadingType,measures:Object(u.a)(Object(u.a)({},e.eventCounts),{domComplete:E(e.timings.domComplete),domContentLoaded:E(e.timings.domContentLoaded),domInteractive:E(e.timings.domInteractive),firstContentfulPaint:E(e.timings.firstContentfulPaint),loadEventEnd:E(e.timings.loadEventEnd)})}},startTime:e.startTime}}(n))}),An(n,e)}var Nn,Dn="rum";function Un(e,t){var n=Lt(e.cookieOptions,Dn,function(t){return function(e,t){var n;n=function(e){return e===Nn.NOT_TRACKED||e===Nn.TRACKED_WITH_RESOURCES||e===Nn.TRACKED_WITHOUT_RESOURCES}(t)?t:p(e.sampleRate)?p(e.resourceSampleRate)?Nn.TRACKED_WITH_RESOURCES:Nn.TRACKED_WITHOUT_RESOURCES:Nn.NOT_TRACKED;return{trackingType:n,isTracked:Mn(n)}}(e,t)});return n.renewObservable.subscribe(function(){t.notify(be.SESSION_RENEWED)}),{getId:n.getId,isTracked:function(){return void 0!==n.getId()&&Mn(n.getTrackingType())},isTrackedWithResource:function(){return void 0!==n.getId()&&n.getTrackingType()===Nn.TRACKED_WITH_RESOURCES}}}function Mn(e){return e===Nn.TRACKED_WITH_RESOURCES||e===Nn.TRACKED_WITHOUT_RESOURCES}function xn(e,t){var n=function(e,t){var n,r=o(e.rumEndpoint,function(){return t.notify(be.BEFORE_UNLOAD)}),i=e.replica;void 0!==i&&(n=o(i.rumEndpoint));function o(t,n){return new Q(new J(t,e.batchBytesLimit,!0),e.maxBatchSize,e.batchBytesLimit,e.maxMessageSize,e.flushTimeout,n)}function a(e){return q(e,{application_id:i.applicationId})}var u=!1;return{add:function(e){u||(r.add(e),n&&n.add(a(e)))},stop:function(){u=!0},upsert:function(e,t){u||(r.upsert(e,t),n&&n.upsert(a(e),t))}}}(e,t);return t.subscribe(be.RUM_EVENT_COLLECTED,function(e){var t=e.rumEvent,r=e.serverRumEvent;t.evt.category===Oe.VIEW?n.upsert(r,t.view.id):n.add(r)}),t.subscribe(be.RUM_EVENT_V2_COLLECTED,function(e){var t=e.rumEvent,r=e.serverRumEvent;t.type===Re.VIEW?n.upsert(r,t.view.id):n.add(r)}),{stop:function(){n.stop()}}}!function(e){e.NOT_TRACKED="0",e.TRACKED_WITH_RESOURCES="1",e.TRACKED_WITHOUT_RESOURCES="2"}(Nn||(Nn={}));var kn={buildMode:"release",datacenter:"us",sdkVersion:"1.25.2"};var Vn,Bn,jn,Wn,Hn=function(e){var t=!1,n=(l={},{get:function(){return l},add:function(e,t){l[e]=t},remove:function(e){delete l[e]},set:function(e){l=e}}),r=function(){},i=new Ce,o=function(e){i.add([e,G(n.get())])},a=new Ce,s=function(e){a.add([e,G(n.get())])},c=(f={init:fe(function(u){var c;he(V(u))&&ge()&&function(e){if(t)return e.silentMultipleInit||console.error("DD_RUM is already initialized."),!1;if(!e||!e.clientToken&&!e.publicApiKey)return console.error("Client Token is not configured, we will not send any data."),!1;if(!e.applicationId)return console.error("Application ID is not configured, no RUM data will be collected."),!1;if(void 0!==e.sampleRate&&!g(e.sampleRate))return console.error("Sample Rate should be a number between 0 and 100"),!1;if(void 0!==e.resourceSampleRate&&!g(e.resourceSampleRate))return console.error("Resource Sample Rate should be a number between 0 and 100"),!1;if(Array.isArray(e.allowedTracingOrigins)&&0!==e.allowedTracingOrigins.length&&void 0===e.service)return console.error("Service need to be configured when tracing is enabled"),!1;return!0}(u)&&(u.publicApiKey&&(u.clientToken=u.publicApiKey),c=e(u,n.get),o=c.addAction,s=c.addError,r=c.getInternalContext,i.drain(function(e){var t=e[0],n=e[1];return o(t,n)}),a.drain(function(e){var t=e[0],n=e[1];return s(t,n)}),t=!0)}),addRumGlobalContext:fe(n.add),removeRumGlobalContext:fe(n.remove),setRumGlobalContext:fe(n.set),getInternalContext:fe(function(e){return r(e)}),addAction:fe(function(e,t){o({name:e,context:G(t),startTime:performance.now(),type:Ve.CUSTOM})}),addUserAction:function(e,t){c.addAction(e,t)},addError:fe(function(e,t,n){var r;void 0===n&&(n=H.CUSTOM),n===H.CUSTOM||n===H.NETWORK||n===H.SOURCE?r=n:(console.error("DD_RUM.addError: Invalid source '"+n+"'"),r=H.CUSTOM),s({error:e,context:G(t),source:r,startTime:performance.now()})})},d=Object(u.a)(Object(u.a)({},f),{onReady:function(e){e()}}),Object.defineProperty(d,"_setDebug",{get:function(){return pe},enumerable:!1}),d);var f,d;var l;return c}(function(e,t){var n=new _e,r=Te(e,kn),i=r.configuration,o=r.internalMonitoring,a=Un(i,n);o.setExternalContextProvider(function(){return q({application_id:e.applicationId},s.findView(),t())});var u=function(e,t,n,r,i,o){var a=function(e,t){var n,r,i,o=[],a=[];e.subscribe(be.VIEW_CREATED,function(e){n&&o.unshift({context:c(),endTime:e.startTime,startTime:n.startTime}),n=e,i=t.getId()}),e.subscribe(be.VIEW_UPDATED,function(e){n.id===e.id&&(n=e)}),e.subscribe(be.AUTO_ACTION_CREATED,function(e){r=e}),e.subscribe(be.AUTO_ACTION_COMPLETED,function(e){r&&a.unshift({context:f(),endTime:r.startTime+e.duration,startTime:r.startTime}),r=void 0}),e.subscribe(be.AUTO_ACTION_DISCARDED,function(){r=void 0}),e.subscribe(be.SESSION_RENEWED,function(){o=[],a=[],n=void 0,r=void 0});var u=window.setInterval(fe(function(){s(o,Bt),s(a,jt)}),Wt);function s(e,t){for(var n=performance.now()-t;e.length>0&&e[e.length-1].startTime<n;)e.pop()}function c(){return{sessionId:i,view:{id:n.id,referrer:n.referrer,url:n.location.href}}}function f(){return{userAction:{id:r.id}}}function d(e,t,n,r){if(void 0===r)return n?e():void 0;if(n&&r>=n.startTime)return e();for(var i=0,o=t;i<o.length;i++){var a=o[i];if(r>a.endTime)break;if(r>=a.startTime)return a.context}}var l={findAction:function(e){return d(f,a,r,e)},findActionV2:function(e){var t=l.findAction(e);if(t)return{action:{id:t.userAction.id}}},findView:function(e){return d(c,o,n,e)},findViewV2:function(e){var t=l.findView(e);if(t)return{session:{id:t.sessionId},view:t.view}},stop:function(){window.clearInterval(u)}};return l}(n,i),u=xn(r,n);gt(e,r,n,i,a,o),bt(e,r,n,i,a,o),function(e,t){e.subscribe(be.PERFORMANCE_ENTRY_COLLECTED,function(n){if("longtask"===n.entryType)if(t.isEnabled("v2_format")){var r={date:y(n.startTime),longTask:{duration:E(n.duration)},type:Re.LONG_TASK};e.notify(be.RAW_RUM_EVENT_V2_COLLECTED,{rawRumEvent:r,startTime:n.startTime})}else r={date:y(n.startTime),duration:E(n.duration),evt:{category:Oe.LONG_TASK}},e.notify(be.RAW_RUM_EVENT_COLLECTED,{rawRumEvent:r,startTime:n.startTime})})}(n,r),yn(n,r,i),Ln(n,r,t);var s=vn(n,r).addError;return{addAction:sn(n,r).addAction,addError:s,parentContexts:a,stop:function(){u.stop()}}}(e.applicationId,location,n,i,a,t),s=u.parentContexts,c=u.addError,f=u.addAction;return an(n,i),Et(n,i),Ke(n),{addAction:f,addError:c,getInternalContext:function(e,t,n,r){return{get:function(i){if(r.isEnabled("v2_format")){var o=n.findViewV2(i);if(t.isTracked()&&o&&o.session.id)return W(q({application:{id:e}},o,n.findActionV2(i)))}else if(o=n.findView(i),t.isTracked()&&o&&o.sessionId)return W(q({applicationId:e},o,n.findAction(i)))}}}(e.applicationId,a,s,i).get}});Vn=function(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}(),jn=Hn,Wn=Vn[Bn="DD_RUM"],Vn[Bn]=jn,Wn&&Wn.q&&Wn.q.forEach(function(e){return e()}),n.d(t,"Datacenter",function(){return ue}),n.d(t,"ErrorSource",function(){return H}),n.d(t,"datadogRum",function(){return Hn}),n.d(t,"RumEventCategory",function(){return Oe})}}]);